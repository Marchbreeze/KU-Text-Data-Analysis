# 1. 한국어와 형태소의 특징

- 한국어 특징
    - 교착어 : 하나 이상의 **형태소**가 결합하여 **어절** 형성
    - 어절의 생산성이 매우 높음 - **형태소들이 결합**하여 매우 다양한 어절 형성

- 형태소의 분류
    1. 자립성에 따른 분류
        1. 자립 형태소 (Free)
            - 자립성이 있어, 독립적으로 사용될 수 있는 형태소
            - ex. 하늘, 철수
        2. 의존 형태소 (Bound)
            - 자립성이 없고, 다른 말에 의존하여 사용되어야만 하는 형태소
            - ex. 조사, 어미 (-이, -가, -은, -는), 파생 접사 (-스럽다)
    2. 의미의 허실에 따른 분류
        1. 실질 형태소 (Full)
            - 구체적인 대상이나 동작, 상태 등과 같은 어휘적 의미를 전달하는 형태소
            - ex. 하늘(명사), 철수(고유 명사), 푸르(형용사 어근), 읽(동사 어근)
        2. 형식 형태소 (Empty)
            - 실질 형태소에 붙어서, 말과 말 사이의 관계나 기능적 역할을 수행하는 형태소
            - ex. 조사, 어미 (-이, -가, -은, -는)

- 단어 형성
    1. 단일어 : 하나의 실질 형태소로 이루어진 단어
    2. 복합어 : 둘 이상의 형태소가 결합하여 이루어진 단어
        1. 합성어
            - 두 개 이상의 실질 형태소(주로 어근)가 결합하여 형성된 단어
            - ex. 손목시계, 물고기
        2. 파생어
            - 실질 형태소(어근)와 파생 형태소(접사 등)가 결합하여 형성된 단어
            - ex. 빠름(형용사 어근 + 명사형 어미), 아름답다(어근 + 접미사)

# 2. 형태소 부착 과정

- 과정
    1. 형태소 분석
        - 표층형(실제 문장에서 나타나는 형태)인 어절에서 형태소를 추출하는 과정
        - 문법적으로 가능한 모든 가능한 분석을 생성 (중의성 고려)
            
            ![2024-10-18_02-24-27.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/f9d6891f-e840-4521-ad4c-27f9053a0962/2024-10-18_02-24-27.jpg)
            
    
    1. 품사 부착 (POS Tagging)
        - 주어진 문장 내의 형태소 또는 단어에 적절한 품사(POS)를 할당하는 과정
        - 단어가 문장 내에서 어떤 역할을 하는지 문맥을 고려해 가장 그럴듯한 분석을 선택
            
            ![2024-10-18_02-24-36.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/d47c1267-1cd5-4421-92e7-401c1320800e/2024-10-18_02-24-36.jpg)
            
        - 형태론적 중의성
            - 하나의 표층 어절이 하나 이상의 어휘층 형태소 분석 결과에 대응되는 현상
            - ex. "나는” → 나(I)+는, 날(fly)+는, 나(sprout)+는

- 분석을 위한 요소
    1. 사전
        - 형태소 표제어 (단어의 기본 형태), 단어의 품사 정보, 자질 정보 (시제, 존칭 여부, …)
    2. 형태소 분석 문법
        - 형태 통사 규칙: 단어가 어떤 구조로 이루어져 있는지 검사하는 규칙 (ex. 어근+어미 규칙)
        - 형태 자소 규칙: 음운 현상을 처리하는 규칙 (ex. 시제에 따른 음운 변화)
    3. 분석 알고리즘
        - 문자열 분리 방식 : 좌우 분석, 우좌 분석, 양방향 분석
        - 유도 방향 : 상향식 분석, 하향식 분석
        - 탐색 관점 : 깊이 우선 탐색, 너비 우선 탐색

## (1-1) 형태소 분석

### 형태소 분석 과정

1. 한글 코드 변환
    - 형태소 변형을 처리하기 위해 한글 문자열을 변환하는 방식
    - 일반적으로 유니코드 사용
    - 조합형 한글 코드(초성, 중성, 종성으로 나누어 처리)를 사용하면 더욱 편리하게 처리

1. 한글 및 기호 분리
    - 한글과 기타 문자열(영문자, 숫자, 기호 등)을 분리
    - ex. 클린턴(clinton)은 → 클린턴 + ( + clinton + ) + 은

1. 형태 분리
    - 한글 문자열의 각 어절을 형태소 단위로 단순 분리하는 작업 (여러 조합 가능)
    - ex. 나는 → 나 + 는 또는 나 + 느 + ㄴ, 나느 + ㄴ

1. 원형 복원
    - 형태 변형이 일어난 형태소의 원형을 복원
    - 음운 규칙에 의해 변형된 형태소를 원래 형태로 돌려놓는 작업
    - ex.
        - 클린터 + ㄴ → 클린털 + ㄴ (어미 ‘ㄹ’ 탈락 규칙을 적용)
        - 나 + 는 → 날 + 는 (음운 변화로 인해 ‘ㄹ’ 탈락이 발생한 경우 복원)
        - 으 + ㄴ → 을 + ㄴ (형태 변형을 복원)

1. 형태소 정보 부여 및 미등록 형태소 추정
    - 각 형태소에 대해 품사와 자질 정보를 사전 탐색을 통해 부여
    - 사전에 등록되지 않은 형태소는 추정하여 품사 및 자질 정보를 부여
    - ex.
        - 클린턴: 고유 명사(NNP), 은: 조사(J)

1. 형태소 분석 결과 생성
    - 등록된 정보나 추정된 형태소 정보를 결합하여 최종 분석 결과를 생성
    - 품사 및 자질 정보를 사용하여 형태소 간의 관계를 명확히 분석

1. 비합법적인 형태소 결합 제거
    - 형태 통사 규칙을 적용하여 문법적으로 비합법적인 형태소 결합을 제거
        
        ![2024-10-18_02-57-25.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/737f8e0a-1225-4703-8a0e-6733a6d76a2e/2024-10-18_02-57-25.jpg)
        

### 기존 형태소 분석의 문제점

- 주의해야 할 이슈
    1. 부호, 영문자, 한자, 숫자 등의 분리 : 가을인가? → 가을인가/?
    2. 어절 내의 형태소 분리 : 가을인가는 → 가을/이/ㄴ가/는
    3. 음운 현상 처리 및 원형 복원 : 고마워서 → 고맙+어서
    4. 미등록 형태소 추정(신조어, 외래어, 고유명사) : 클린턴 - 고유명사
    5. 굴절 및 파생 접사 처리 : 읽는다 → 읽+는다, 읽었냐 → 읽+었+냐
    6. 복합어 처리 : 미래지향 → 미래+지향

- 문제점
    - 수작업으로 구축한 언어학적 지식에 의존
    - 규칙간의 간섭 현상
    - 이식성의 부재 (특정 언어 집합에 한정적)

## (1-2) 형태소 분석기

![2024-10-18_03-23-43.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/e32951e2-acdf-41bf-9a49-e8ebbddd288b/2024-10-18_03-23-43.jpg)

### 1) 어절 바이그램 단위 분석

- 어절을 기준으로 두 개의 연속된 어절을 분석하는 방법
- 바이그램 모델(bigram): 한 어절이 주어졌을 때 이전 어절의 문맥을 고려하여 해당 어절의 분석 결과를 예측하고, 이를 통해 정확도를 개선하는 것을 목표
    - 확장된 문맥을 통한 정확도 개선
    - 문맥(앞 어절)이 주어지면 중의성 없는 분석 결과 저장

- 어절 단위 모델
    - 문장에서 **연속된 두 어절 간의 통계적 관계**를 학습
    - 주어진 문맥에서 가장 적합한 어절을 선택하거나 중의성을 줄이는 방식으로 활용
        
        ![2024-10-18_03-26-41.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/5cfa6133-a6a5-4135-b903-6467c3a9bb5b/2024-10-18_03-26-41.jpg)
        
        ![2024-10-18_03-27-22.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/b7fb0c91-9973-4e8c-9c2b-06c6d72cecb2/2024-10-18_03-27-22.jpg)
        

### 2) 어절 단위 분석 모델

- 한국어처럼 교착어에서 복잡한 형태소 분석 과정을 **단순화**하고 **효율성**을 높이기 위한 방법
- **말뭉치**에서 기분석된 어절들의 **분석 결과**와 **빈도** 저장
- 상대 빈도를 이용한 확률 추정
    - 특정 어절이 말뭉치에서 등장한 빈도를 전체 어절의 빈도로 나눈 값
    - ex. “나는”이 “나(명사)” + “는(보조사)”로 분석될 확률
        
        ![2024-10-18_03-30-30.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/0e378d61-c0b0-4daa-bd48-4ef2952c18b1/2024-10-18_03-30-30.jpg)
        

- 장점
    1. 단순성 : 복잡한 형태소 분석을 회피 (어절 자체를 분석 단위로 사용)
    2. 효율성 : 어절 단위로 수행해 처리 속도 향상
    3. 소수의 고빈도 어절의 정확도가 높음

### 3) 음운 복원 모델

- 표층형과 어휘층 사이의 음절 변화를 모델링하여, 형태 자소 규칙에 따라 단어의 음운 현상을 처리하는 방식
- 발음이나 음운 변화가 일어난 형태소를 원형으로 복원
- 어휘층 음절 $\hat{s_j}$가 표층 음절 $s_j$로 변환될 확률 → 모두 곱해 전체 확률 계산
    
    ![2024-10-18_03-58-58.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/3a724b42-47ac-4688-9f2f-1333bba3b481/2024-10-18_03-58-58.jpg)
    

- 표층형 : 단어가 문장에서 실제로 나타나는 형태
- 어휘층 : 단어의 기본적인 형태
    - Pr( 𝑙 = 날는 | 𝑤 = 나는) ≈ Pr($\hat{s_1}$ = 날 | $𝑠_1$ = 나) x r($\hat{s_2}$ = 는 | $𝑠_2$ = 는)
    - Pr( 버리어 | 버려) ≈ Pr( 버 | 버) x Pr( 리어 | 려)

- 음운 복원 정보 획득
    - 표층형과 어휘층 간의 음운 변화를 처리
    - 최소 편집 거리를 기반으로 한 문자열 정렬(alignment) 기법을 도입
        - 표층 어절과 어휘층 어절의 음절 비교
            
            → 같으면 해당 음절쌍을 저장하고, 다르면 그 차이 부분을 기록
            
        
        ![2024-10-18_04-07-17.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/a42089ee-5855-4570-94c7-1a77ed8adba5/2024-10-18_04-07-17.jpg)
        

### 4) 형태소 단위 분석 모델

- 확률 모델을 기반으로 어절을 형태소로 분해하고, 각각의 형태소에 적합한 품사 정보를 할당하는 과정

- 어절이 다양한 형태로 변형될 수 있어 모든 어절에 어절 단위 분석을 적용하는 것이 비효율적일 수 있음
    
    → 형태소 단위로 분석
    
- 확률 모델의 적용
    
    ![2024-10-18_04-18-25.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/3935ce27-6eeb-44b9-a646-19afcb42a3a0/2024-10-18_04-18-25.jpg)
    
    ![2024-10-18_04-18-09.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/61964b88-d445-4e61-bf2e-d7707faea9f8/2024-10-18_04-18-09.jpg)
    

### 5) 음절 단위 분석 모델

- 미등록어 문제 : 모든 형태소를 사전에 등록할 수 없음
- 한국어 음절 특성
    - ex. ‘었’ : 선어말 어미로만 사용

- 확률 모델 적용
    
    ![2024-10-18_04-19-46.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/ad09850f-6fad-427d-a17b-b5e37064455a/2024-10-18_04-19-46.jpg)
    

- 음절 태그 (BI 표현방식)
    
    ![2024-10-18_04-20-35.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/edfd69d1-6c01-4d0c-9269-1bae8a4e3915/3bf0b52b-8f13-4384-af6a-76a581cfb2a2/2024-10-18_04-20-35.jpg)
    

- 특징
    - 장점 : 형태소 분할을 고려할 필요 없음 (음절 태그로부터 알 수 있음)
    - 단점 : 비효율성ㅇ, 복잡도 증가 (태그 수 2배)

### 평가 척도

1. 정답 포함율 (%)
    - 분석 결과 중에 정답이 포함된 어절의 비율
    - 품사 태거의 상한선 (높을수록 좋음)
2. 평균 분석 후보수 (평균 중의성)
    - 한 어절 당 평균 분석 후보수 (낮을수록 좋음)
3. 미분석률 (%)
    - 분석결과를 생성하지 못한 어절의 비율 (낮을수록 좋음)
4. 1-best 정확도 (%)
    - 가장 높은 확률을 가진 결과가 정답과 일치하는 비율
